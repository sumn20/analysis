# ğŸŒ è‡ªå®šä¹‰CORSä»£ç†éƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ–¹æ¡ˆå¯¹æ¯”

| å¹³å° | å…è´¹é¢åº¦ | éƒ¨ç½²éš¾åº¦ | æ€§èƒ½ | æ¨èåº¦ |
|------|----------|----------|------|--------|
| **Vercel** | 100GBå¸¦å®½/æœˆ | â­â­â­â­â­ | ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ | â­â­â­â­â­ |
| **Netlify** | 100GBå¸¦å®½/æœˆ | â­â­â­â­ | ğŸš€ğŸš€ğŸš€ğŸš€ | â­â­â­â­ |
| **Railway** | $5å…è´¹é¢åº¦ | â­â­â­ | ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ | â­â­â­â­ |
| **Render** | 750å°æ—¶/æœˆ | â­â­â­ | ğŸš€ğŸš€ğŸš€ | â­â­â­ |

## ğŸš€ Verceléƒ¨ç½² (æ¨è)

### 1. å‡†å¤‡å·¥ä½œ
å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†å¿…è¦æ–‡ä»¶ï¼š
- `api/proxy.js` - Serverlesså‡½æ•°
- `vercel.json` - Vercelé…ç½®

### 2. éƒ¨ç½²æ­¥éª¤

#### æ–¹æ³•ä¸€ï¼šGitHubè‡ªåŠ¨éƒ¨ç½² (æ¨è)
1. æäº¤ä»£ç åˆ°GitHub
2. è®¿é—® [vercel.com](https://vercel.com)
3. ç”¨GitHubè´¦å·ç™»å½•
4. ç‚¹å‡» "New Project"
5. é€‰æ‹©æ‚¨çš„ä»“åº“ `JavaScript_Apk_Analysis`
6. ç‚¹å‡» "Deploy"
7. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼Œè·å¾—åŸŸåå¦‚ï¼š`https://your-project.vercel.app`

#### æ–¹æ³•äºŒï¼šCLIéƒ¨ç½²
```bash
# å®‰è£…Vercel CLI
npm i -g vercel

# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
vercel

# æŒ‰æç¤ºæ“ä½œï¼Œé¦–æ¬¡éœ€è¦ç™»å½•
```

### 3. æ›´æ–°ä»£ç†åœ°å€
éƒ¨ç½²æˆåŠŸåï¼Œå°† `AppStoreDownload.tsx` ä¸­çš„ä»£ç†åœ°å€æ›´æ–°ä¸ºï¼š
```javascript
'https://your-project.vercel.app/api/proxy?url=',
```

## ğŸŒ å…¶ä»–éƒ¨ç½²é€‰é¡¹

### Netlifyéƒ¨ç½²
1. åˆ›å»º `netlify/functions/proxy.js`ï¼š
```javascript
exports.handler = async (event, context) => {
  // ä¸Vercelç±»ä¼¼çš„ä»£ç ï¼Œä½†ä½¿ç”¨Netlify Functionsæ ¼å¼
};
```

### Railwayéƒ¨ç½²
1. åˆ›å»ºå®Œæ•´çš„Node.jsåº”ç”¨
2. è¿æ¥GitHubä»“åº“
3. è‡ªåŠ¨éƒ¨ç½²

### å…è´¹åŸŸåç»‘å®š
- Vercel: æ”¯æŒè‡ªå®šä¹‰åŸŸå
- Netlify: æ”¯æŒè‡ªå®šä¹‰åŸŸå  
- Freenom: å…è´¹åŸŸåæ³¨å†Œ

## ğŸ”§ é…ç½®ä¼˜åŒ–

### 1. ç¯å¢ƒå˜é‡
åœ¨Vercel Dashboardä¸­è®¾ç½®ï¼š
```
ALLOWED_ORIGINS=https://sumn20.github.io
RATE_LIMIT=100
```

### 2. ç¼“å­˜ç­–ç•¥
```javascript
// åœ¨proxy.jsä¸­æ·»åŠ 
res.setHeader('Cache-Control', 'public, max-age=300'); // 5åˆ†é’Ÿç¼“å­˜
```

### 3. é”™è¯¯ç›‘æ§
```javascript
// æ·»åŠ é”™è¯¯ä¸ŠæŠ¥
console.error('Proxy Error:', {
  url,
  error: error.message,
  timestamp: new Date().toISOString()
});
```

## ğŸ“Š ä½¿ç”¨ç»Ÿè®¡

éƒ¨ç½²åå¯ä»¥åœ¨Vercel DashboardæŸ¥çœ‹ï¼š
- è¯·æ±‚æ•°é‡
- å“åº”æ—¶é—´
- é”™è¯¯ç‡
- å¸¦å®½ä½¿ç”¨

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

1. **é™åˆ¶æ¥æºåŸŸå**ï¼š
```javascript
const allowedOrigins = ['https://sumn20.github.io'];
if (!allowedOrigins.includes(origin)) {
  return res.status(403).json({ error: 'Forbidden' });
}
```

2. **æ·»åŠ é€Ÿç‡é™åˆ¶**ï¼š
```javascript
// ä½¿ç”¨Vercel KVå­˜å‚¨å®ç°é€Ÿç‡é™åˆ¶
```

3. **URLç™½åå•**ï¼š
```javascript
const allowedDomains = ['sj.qq.com', 'play.google.com'];
```

## ğŸš€ éƒ¨ç½²åçš„ä¼˜åŠ¿

âœ… **å®Œå…¨æ§åˆ¶** - ä¸ä¾èµ–ç¬¬ä¸‰æ–¹æœåŠ¡ç¨³å®šæ€§  
âœ… **æ›´å¿«é€Ÿåº¦** - å…¨çƒCDNåŠ é€Ÿ  
âœ… **æ— é™åˆ¶** - ä¸å—ç¬¬ä¸‰æ–¹APIé™åˆ¶  
âœ… **å…è´¹ä½¿ç”¨** - Vercelå…è´¹é¢åº¦å……è¶³  
âœ… **è‡ªåŠ¨HTTPS** - å®‰å…¨è®¿é—®  
âœ… **ç›‘æ§ç»Ÿè®¡** - è¯¦ç»†çš„ä½¿ç”¨æ•°æ®  

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] åˆ›å»º `api/proxy.js` æ–‡ä»¶
- [ ] åˆ›å»º `vercel.json` é…ç½®
- [ ] æäº¤ä»£ç åˆ°GitHub
- [ ] åœ¨Vercelè¿æ¥ä»“åº“
- [ ] ç­‰å¾…éƒ¨ç½²å®Œæˆ
- [ ] æ›´æ–°å‰ç«¯ä»£ç†åœ°å€
- [ ] æµ‹è¯•ä»£ç†åŠŸèƒ½
- [ ] ç›‘æ§ä½¿ç”¨æƒ…å†µ

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å°±æ‹¥æœ‰äº†ä¸€ä¸ªä¸“å±çš„é«˜æ€§èƒ½CORSä»£ç†æœåŠ¡ï¼